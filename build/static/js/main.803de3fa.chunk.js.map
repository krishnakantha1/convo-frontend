{"version":3,"sources":["Components/Chat/CSS/Members.module.css","Components/Home/Home.module.css","Components/Chat/Chat.module.css","Components/Chat/CSS/MessageTypeField.module.css","Components/Chat/CSS/Chat.module.css","Components/Chat/CSS/ChatControler.module.css","Components/Chat/CSS/StandardMessage.module.css","Components/LogReg/LogReg.module.css","Components/Chat/CSS/GroupManagement.module.css","Components/Chat/helper.js","Components/Chat/CSS/ReplyedMessage.module.css","Components/Chat/CSS/SystemMessage.module.css","Components/Chat/CSS/Loading.module.css","Components/Home/img/chat-with-friends.svg","Components/Home/img/both-mobile-pc.svg","Components/Loadings/AuthCheck.module.css","Components/Nav/Nav.module.css","Components/Chat/Chat.js","Context/loginContext.js","Components/Nav/Nav.js","Components/Home/Banner.js","Components/Home/Feature.js","Components/Home/Home.js","Components/Chat/ChatControler.js","Components/Chat/Message_components/ReplyedMessage.js","Components/Chat/Message_components/StandardMessage.js","Components/Chat/Message_components/SystemMessage.js","Components/Chat/MessageArea.js","Components/Chat/MessageTypeField.js","Components/Chat/Loading.js","Components/Chat/ChatArea.js","Components/Chat/Members.js","Components/Chat/GroupManagement.js","Components/LogReg/Login.js","Components/LogReg/Register.js","Components/LogReg/LoggedIn.js","Components/LogReg/LogReg.js","Components/Loadings/AuthCheck.js","App.js","index.js"],"names":["module","exports","createToken","chars","token","i","push","Math","round","random","length","join","socket","loginDetailsInitial","loggedIn","username","id","LoginContext","createContext","LoginProvider","children","useState","details","setDetails","Provider","value","LoginDetail","loggin","data","localStorage","setItem","JSON","stringify","loggout","removeItem","Nav","fixed","setFixed","promptLogout","setPromptOut","burger","toggleBurger","useContext","useEffect","navPlacemnt","e","window","scrollY","addEventListener","removeEventListener","className","styles","nav","navFixed","logo","navLinks","navActive","onClick","to","link","toggle","line1","line2","line3","promptBackground","prompt","stopPropagation","Banner","history","bannerContainer","appName","tag","goToChat","width","height","version","viewBox","xmlns","bannerSVG","transform","x","y","fill","opacity","style","paintOrder","d","topChat","bottomChat","Feature","image","title","note","featureContainer","src","alt","Home","feature","chatWithFriends","bothMobilePc","container","map","key","ChatControler","groups","setDisplayedGroup","setGroupToggle","chatControler","Object","keys","group","groupBadge","addBadge","badgeText","GroupBadge","badge","group_name","ReplyedMessage","r_username","r_message_text","name","message","StandardMessage","prev_message_from_same_user","setMessageToReply","dateFormater","timestamp","date","getDate","getMonth","getFullYear","time","getHours","getMinutes","handleReplyIntent","r_user_id","myMessage","messageBubble","prevMessagFromSameUser","userName","r_user_name","r_message_type","r_replyed_message_username","r_replyed_message_text","messageFooter","type","Date","r_message_created_on","SystemMessage","React","memo","messageList","prev","prevsame","r_message_id","MessageTypeField","messageToReply","setMessage","toReplyMessageContainer","toReplyMessageBubble","form","onSubmit","preventDefault","emit","userID","group_id","message_text","replyed_to_message_id","textFieldWrapper","textArea","onChange","target","placeholder","textLength","submit","Loading","background_color","backgroundColor","blinker","ChatArea","displayedGroup","setMessageList","myNewMessage","setMyNewMessage","fetchingPreviousChat","setFetchingPreviousChat","initialChatLoading","setInitialChatLoading","GPCBToggle","setGPCBToggle","chatArea","useRef","previousSize","gtoken","current","scrollTop","scrollHeight","re_gtoken","user_id","on","rep","messages","new_message","off","slideState","setSlideState","xDown","yDown","innerChatContainer","ref","rightSlide","leftSlide","onTouchStart","evt","firstTouch","touches","originalEvent","getTouches","clientX","clientY","onTouchMove","xUp","yUp","xDiff","yDiff","abs","chatHeading","chats","getPreviousChat","oldest_message_id","GetPreviousChatButton","gettingPrevious","getPreviousChatButton","previousBtn","Members","members","setMembers","fetchingMembers","setFetchingMembers","mtoken","r_token","r_members","create_members","forEach","member","r_group","r_data","user","r_status","temp","some","status","onlineContainer","onlineTag","offlineContainer","offlineTag","copy","document","createElement","position","body","appendChild","select","execCommand","removeChild","leave","groupID","GroupManagement","setGroups","createG","setCreateG","groupAbout","setGroupAbout","joinG","setJoinG","group_data","console","log","formContainer","group_about","inputContainer","Chat","chatLoad","setChatLoad","MGTgroupToggle","groupChange","setGroupChange","getGroup","a","socketIOClient","host","query","group_list","group_map","error","disconnect","chatContainer","LoaderContainer","JoinOrCreateGroupPrompt","NotLoggedIn","notLoggedIn","slide","setSlide","xyz","initialState","email","password","Login","credential","setCredential","setError","fetching","setFetching","handleSubmit","axios","method","url","onchange","innerContainer","loginForm","loader","displayOff","textField","submitBtn","disabled","danger","Register","repassword","formValidate","test","validateError","validateMessage","handleOnchange","LoggedIn","LogReg","isLogin","login","setLogin","arc","AuthCheck","letter","App","verifyToken","setVerifyToken","alwaysLogin","getItem","parse","deleteToken","path","exact","element","ReactDOM","createRoot","getElementById","render"],"mappings":"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","file":"static/js/main.803de3fa.chunk.js","sourcesContent":["// extracted by mini-css-extract-plugin\nmodule.exports = {\"container\":\"Members_container__16eIs\",\"members\":\"Members_members__3c57r\",\"status\":\"Members_status__16vIg\",\"onlineContainer\":\"Members_onlineContainer__3FMHe\",\"offlineContainer\":\"Members_offlineContainer__mmUSj\",\"member\":\"Members_member__3McS8\",\"onlineTag\":\"Members_onlineTag__ze82L\",\"offlineTag\":\"Members_offlineTag__pfl3p\",\"crown\":\"Members_crown__3Qhg2\",\"copy\":\"Members_copy__2fyRO\",\"leave\":\"Members_leave__16tMV\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"container\":\"Home_container__1X_qP\",\"bannerContainer\":\"Home_bannerContainer__91Ztq\",\"appName\":\"Home_appName__3W825\",\"tag\":\"Home_tag__1t5L4\",\"goToChat\":\"Home_goToChat__1J9hh\",\"bannerSVG\":\"Home_bannerSVG__a4U5w\",\"topChat\":\"Home_topChat__1VD6a\",\"fadeIn\":\"Home_fadeIn__1X9fi\",\"bottomChat\":\"Home_bottomChat__3l6fU\",\"featureContainer\":\"Home_featureContainer__1YX5o\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"innerChatContainer\":\"Chat_innerChatContainer__qfdWd\",\"chatHeading\":\"Chat_chatHeading__20c_F\",\"chatArea\":\"Chat_chatArea__14jPi\",\"getPreviousChatButton\":\"Chat_getPreviousChatButton__oM3_m\",\"previousBtn\":\"Chat_previousBtn__1Ld5u\",\"gettingPrevious\":\"Chat_gettingPrevious__1nxyr\",\"blink\":\"Chat_blink__2BEHP\",\"chats\":\"Chat_chats__1ykpq\",\"messageInner\":\"Chat_messageInner__3X5sk\",\"sameUser\":\"Chat_sameUser__1hF1d\",\"userName\":\"Chat_userName__18e7F\",\"myMessage\":\"Chat_myMessage__2AMVv\",\"othersMessage\":\"Chat_othersMessage__2mnDb\",\"rightSlide\":\"Chat_rightSlide__2FLRA\",\"leftSlide\":\"Chat_leftSlide__zHDqw\",\"notLoggedIn\":\"Chat_notLoggedIn__1-6wY\",\"ChatLoader\":\"Chat_ChatLoader__1NFAy\",\"blinker\":\"Chat_blinker__uzQ9k\",\"Members\":\"Chat_Members__iMeND\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"container\":\"MessageTypeField_container__1QbEZ\",\"toReplyMessageContainer\":\"MessageTypeField_toReplyMessageContainer__Wz5MQ\",\"toReplyMessageBubble\":\"MessageTypeField_toReplyMessageBubble__3Nkg1\",\"form\":\"MessageTypeField_form___93Yw\",\"textFieldWrapper\":\"MessageTypeField_textFieldWrapper__ds32U\",\"textArea\":\"MessageTypeField_textArea__3StSc\",\"textLength\":\"MessageTypeField_textLength__2ESLC\",\"submit\":\"MessageTypeField_submit__2WuOm\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"chatContainer\":\"Chat_chatContainer__3aZaR\",\"LoaderContainer\":\"Chat_LoaderContainer__3XR5Y\",\"xyz\":\"Chat_xyz__1g8_g\",\"slide\":\"Chat_slide__1VKdN\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"chatControler\":\"ChatControler_chatControler__4Lk58\",\"groupBadge\":\"ChatControler_groupBadge__1o1tB\",\"badge\":\"ChatControler_badge__G28Fl\",\"addBadge\":\"ChatControler_addBadge__whh_-\",\"badgeText\":\"ChatControler_badgeText__1nB3C\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"container\":\"StandardMessage_container__30TBT\",\"myMessage\":\"StandardMessage_myMessage__3C5hj\",\"messageBubble\":\"StandardMessage_messageBubble__1ZCKb\",\"prevMessagFromSameUser\":\"StandardMessage_prevMessagFromSameUser__MEGDU\",\"userName\":\"StandardMessage_userName__13SXS\",\"message\":\"StandardMessage_message__3G_qt\",\"messageFooter\":\"StandardMessage_messageFooter__SdhcK\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"container\":\"LogReg_container__2HpUB\",\"innerContainer\":\"LogReg_innerContainer__2pA7B\",\"displayOff\":\"LogReg_displayOff__2T_pr\",\"danger\":\"LogReg_danger__3_4tO\",\"loader\":\"LogReg_loader__33vgE\",\"arc\":\"LogReg_arc__3Gbyq\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"container\":\"GroupManagement_container__3Tfii\",\"formContainer\":\"GroupManagement_formContainer__32k2F\",\"inputContainer\":\"GroupManagement_inputContainer__1nqCd\"};","\n//function to create unique string\nconst createToken = ()=>{\n    const chars = \"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789!@#$%^&*()\";\n    const token = [];\n    let m = 10;\n    for(let i=0;i<m;i++){\n        token.push(chars[Math.round(Math.random()*chars.length)]);\n    }\n    return token.join(\"\");\n}\n\nmodule.exports = {createToken};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"container\":\"ReplyedMessage_container__1oA7q\",\"name\":\"ReplyedMessage_name__3aXLV\",\"message\":\"ReplyedMessage_message__qTCpV\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"container\":\"SystemMessage_container__3BtUt\",\"message\":\"SystemMessage_message__3Q3VR\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"container\":\"Loading_container__1SqVU\",\"blinker\":\"Loading_blinker__IqsWu\",\"blink\":\"Loading_blink__1rnrw\"};","module.exports = __webpack_public_path__ + \"static/media/chat-with-friends.e18cf133.svg\";","module.exports = __webpack_public_path__ + \"static/media/both-mobile-pc.ce5155b6.svg\";","// extracted by mini-css-extract-plugin\nmodule.exports = {\"container\":\"AuthCheck_container__MWjUE\",\"visibility\":\"AuthCheck_visibility__2HoNZ\",\"showup\":\"AuthCheck_showup__3ZeP4\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"nav\":\"Nav_nav__1BJw3\",\"navFixed\":\"Nav_navFixed__3NfN_\",\"logo\":\"Nav_logo__tt8Id\",\"navLinks\":\"Nav_navLinks__2kIvc\",\"link\":\"Nav_link__3MW6m\",\"burger\":\"Nav_burger__2Pvlf\",\"join\":\"Nav_join__3NrC1\",\"navActive\":\"Nav_navActive__YqWLY\",\"toggle\":\"Nav_toggle__115Np\",\"line1\":\"Nav_line1__1uIhk\",\"line2\":\"Nav_line2__2d9uL\",\"line3\":\"Nav_line3__1rWy7\",\"promptBackground\":\"Nav_promptBackground__1MMor\",\"prompt\":\"Nav_prompt__2vTlm\",\"showPrompt\":\"Nav_showPrompt__30yae\"};","import React, { useContext, useState, useEffect } from \"react\";\n\nimport styles from \"./CSS/Chat.module.css\";\n\nimport { ChatControler } from \"./ChatControler\";\nimport { ChatArea } from \"./ChatArea\";\nimport { Members } from \"./Members\";\n\nimport { LoginContext } from \"../../Context/loginContext\";\nimport { host } from \"../../App\"\n\nimport socketIOClient from \"socket.io-client\";\nimport GroupManagement from \"./GroupManagement\";\nimport { Loading } from \"./Loading\";\n\n\nlet socket;\n\nexport const Chat = () => {\n  const { LoginDetail : { loggedIn, id } } = useContext(LoginContext);\n\n  const [chatLoad,setChatLoad] = useState(true);\n  const [MGTgroupToggle,setGroupToggle] = useState(false);\n \n  const [displayedGroup,setDisplayedGroup] = useState({});\n  const [groups, setGroups] = useState({});\n\n  const [groupChange,setGroupChange] = useState(false)\n\n  const getGroup = async ()=>{\n\n      try{\n        socket = socketIOClient(`${host}`,{ query : `user_id=${id}` });\n\n        socket.emit(\"cnvo_get_groups_for_user\",{userID:id});\n\n        socket.on(\"cnvo_user_groups\", data => {\n          /*\n            data-> group_list : [{group_id,group_name,about},....]\n          */\n          const { group_list } = data;\n          const group_map = {}\n\n          group_list.forEach(group => {\n            group_map[group.group_id] = group;\n          });\n\n          setGroups(group_map);\n          setChatLoad(false);\n          setGroupChange(true)\n        });\n\n\n        socket.on(\"cnvo_self_left_group\",(data)=> {\n          const { r_group } = data;\n\n          setGroups((prev)=> {\n            const temp = {...prev}\n            delete temp[r_group]\n\n            setGroupChange(true)\n            return {...temp}\n          })\n\n        })\n\n        socket.on(\"cnvo_error\", data => console.log(data));\n      }catch(e){\n        console.error(e)\n      }\n      \n  }\n\n  useEffect(() => {\n\n    getGroup();\n\n    return () => {\n      socket.disconnect();\n    }\n  },[]);\n\n\n  useEffect(() => {\n    if(groupChange){\n      if(Object.keys(groups).length===0) \n        setDisplayedGroup({});\n      else \n        setDisplayedGroup(groups[Object.keys(groups)[0]]);\n\n      setGroupChange(false)\n    }\n    \n  },[groupChange])\n\n\n  return (\n    <div className={styles.chatContainer}>\n      { loggedIn ? \n        chatLoad ? (\n          <div className={styles.LoaderContainer}>\n             <Loading background_color = {'black'}/>\n          </div>\n         \n        ) : (\n        <>\n          <ChatControler groups={groups} setDisplayedGroup={setDisplayedGroup} socket={socket} setGroupToggle={setGroupToggle}/>\n          {Object.keys(displayedGroup).length!==0 && (\n            <>\n            <ChatArea displayedGroup={displayedGroup} socket={socket} />\n            <Members group={displayedGroup} socket={socket} />\n            </>\n          )}\n          {Object.keys(displayedGroup).length===0 && (<JoinOrCreateGroupPrompt/>)}\n          {MGTgroupToggle && <GroupManagement \n                                setDisplayedGroup={setDisplayedGroup} \n                                setGroups={setGroups} \n                                setGroupToggle={setGroupToggle} \n                                socket={socket}/>}\n          \n        </>\n      ) : (\n        <NotLoggedIn />\n      )}\n    </div>\n  );\n};\n\nfunction NotLoggedIn() {\n  return (\n    <div className={styles.notLoggedIn}>\n      <h1>Please log in to use the chat feature!</h1>\n    </div>\n  );\n}\n\nfunction ChatLoader(){\n  return (\n    <div className={styles.ChatLoader}>\n      <div className={styles.blinker}>\n          <span style={{ \"--i\": \"1\" }} ></span>\n          <span style={{ \"--i\": \"2\" }}></span>\n          <span style={{ \"--i\": \"3\"}}></span>\n        </div>\n    </div>\n  )\n}\n\nfunction JoinOrCreateGroupPrompt(){\n  const containerStyle = {\n    width:'100%',\n    height:'90vh',\n    'background-color':'black',\n    display:'flex',\n    'flex-direction':'column',\n    'align-items':'center',\n    'justify-content':'center',\n    position:'absolute',\n    transition: 'all ease-in-out 0.5s',\n  }\n\n  //Sliding for mobile*******************\n  const [slide, setSlide] = useState(false);\n  var xDown = null;\n  var yDown = null;\n  function getTouches(evt) {\n    return evt.touches || evt.originalEvent.touches;\n  }\n  const handleTouchStart = (evt) => {\n    const firstTouch = getTouches(evt)[0];\n    xDown = firstTouch.clientX;\n    yDown = firstTouch.clientY;\n  };\n  const handleTouchMove = (evt) => {\n    if (!xDown || !yDown) {\n      return;\n    }\n\n    var xUp = evt.touches[0].clientX;\n    var yUp = evt.touches[0].clientY;\n\n    var xDiff = xDown - xUp;\n    var yDiff = yDown - yUp;\n\n    if (Math.abs(xDiff) > Math.abs(yDiff)) {\n      if (xDiff > 0) {\n        if (slide) setSlide(false);\n      } else {\n        if (!slide) setSlide(true);\n      }\n    }\n\n    xDown = null;\n    yDown = null;\n  };\n  //************************************* */\n\n  return (\n    <div className={`${styles.xyz} ${slide ? styles.slide : \"\"}`} \n    onTouchStart={handleTouchStart}\n    onTouchMove={handleTouchMove}\n    >\n      <p>You Arent In Any Group.</p>\n      <p>Join Or Create A Group By Pressing The '+' Icon On The Left</p>\n    </div>\n  )\n}\n","import React, { createContext, useState } from \"react\";\n\nconst loginDetailsInitial = {\n  loggedIn: false,\n  username: null,\n  token: null,\n  id: null,\n};\n\nexport const LoginContext = createContext(loginDetailsInitial);\n\nexport const LoginProvider = ({ children }) => {\n  const [details, setDetails] = useState(loginDetailsInitial);\n\n  const loggin = (data) => {\n    if (!data) return;\n\n    localStorage.setItem(\"LogDetail\", JSON.stringify(data.token));\n    \n    setDetails({\n      loggedIn: true,\n      username: data.username,\n      token: data.token,\n      id: data.id,\n    });\n  };\n\n  const loggout = () => {\n    if (!details.loggedIn) return;\n    setDetails(loginDetailsInitial);\n    localStorage.removeItem(\"LogDetail\");\n  };\n\n  return (\n    <LoginContext.Provider value={{ LoginDetail: details, loggin, loggout }}>\n      {children}\n    </LoginContext.Provider>\n  );\n};\n","import React, { useEffect, useState, useContext } from \"react\";\nimport { Link } from \"react-router-dom\";\n\nimport styles from \"./Nav.module.css\";\n\nimport { LoginContext } from \"../../Context/loginContext\";\n\nexport const Nav = () => {\n  const [fixed, setFixed] = useState(false);\n  const [promptLogout, setPromptOut] = useState(false);\n  const [burger, toggleBurger] = useState(false);\n\n  const { LoginDetail, loggout } = useContext(LoginContext);\n\n  useEffect(() => {\n    const navPlacemnt = (e) => {\n      if (!fixed && window.scrollY > 60) {\n        setFixed(true);\n      } else if (fixed && window.scrollY < 60) {\n        setFixed(false);\n      }\n    };\n    window.addEventListener(\"scroll\", navPlacemnt);\n\n    return () => {\n      window.removeEventListener(\"scroll\", navPlacemnt);\n    };\n  }, [fixed]);\n\n  const doLogout = () => {\n    setPromptOut(!promptLogout);\n    loggout();\n  };\n\n  return (\n    <>\n      <nav className={`${styles.nav} ${fixed ? styles.navFixed : \"\"}`}>\n        <div className={styles.logo}>\n          <h2>CONVO</h2>\n        </div>\n        <ul className={`${styles.navLinks} ${burger ? styles.navActive : \"\"}`}>\n          <li onClick={() => toggleBurger(!burger)}>\n            <Link to=\"/\" className={styles.link}>\n              Home\n            </Link>\n          </li>\n\n          <li onClick={() => toggleBurger(!burger)}>\n            <Link to=\"/chat\" className={styles.link}>\n              Chat\n            </Link>\n          </li>\n\n          {LoginDetail.loggedIn ? (\n            <li\n              onClick={() => {\n                setPromptOut(!promptLogout);\n                toggleBurger(!burger);\n              }}\n            >\n              Logout\n            </li>\n          ) : (\n            <>\n              <li onClick={() => toggleBurger(!burger)}>\n                <Link to=\"/login\" className={styles.link}>\n                  Login\n                </Link>\n              </li>\n              <li className={styles.join} onClick={() => toggleBurger(!burger)}>\n                <Link to=\"/register\" className={styles.link}>\n                  Join\n                </Link>\n              </li>\n            </>\n          )}\n        </ul>\n        <div\n          className={`${styles.burger} ${burger ? styles.toggle : null}`}\n          onClick={() => toggleBurger(!burger)}\n        >\n          <div className={styles.line1}></div>\n          <div className={styles.line2}></div>\n          <div className={styles.line3}></div>\n        </div>\n      </nav>\n      {promptLogout && (\n        <div\n          className={styles.promptBackground}\n          onClick={() => setPromptOut(!promptLogout)}\n        >\n          <div\n            className={styles.prompt}\n            onClick={(e) => {\n              e.stopPropagation();\n            }}\n          >\n            <p>Are you sure you want to logout?</p>\n            <button onClick={doLogout}>Logout</button>\n          </div>\n        </div>\n      )}\n    </>\n  );\n};\n","import React from \"react\";\n\nimport styles from \"./Home.module.css\";\n\nexport const Banner = ({ history }) => {\n  const goToChat = (e) => {\n    history.push(\"/chat\");\n  };\n  return (\n    <div className={styles.bannerContainer}>\n      <section>\n        <h1 className={styles.appName}>CONVO</h1>\n        <p className={styles.tag}>A chat app for friends!</p>\n        <button className={styles.goToChat} onClick={goToChat}>\n          Open Chat\n        </button>\n      </section>\n      <svg\n        width=\"1119.5\"\n        height=\"935.37\"\n        version=\"1.1\"\n        viewBox=\"0 0 296.19 247.48\"\n        xmlns=\"http://www.w3.org/2000/svg\"\n        className={styles.bannerSVG}\n      >\n        <g transform=\"translate(61.326 -82.104)\">\n          <rect\n            x=\"-61.326\"\n            y=\"82.104\"\n            width=\"295.22\"\n            height=\"247.48\"\n            fill=\"none\"\n            opacity=\".997\"\n            style={{ paintOrder: \"stroke fill markers\" }}\n          />\n          <path\n            d=\"m38.16 82.171a3.8189 3.8189 0 0 0-1.8805 0.5116l-5.7283 3.3073h3.8189v119.06a11.457 11.457 0 0 0 5.7283 9.9219l189.04 109.14a3.8189 3.8189 0 0 0 5.3e-4 0h-5.3e-4l-1.91 3.3068 5.7288-3.3068h5.3e-4a3.8189 3.8189 0 0 0 1.9089-3.3068v-119.06a11.457 11.457 0 0 0-5.7283-9.9219l-189.04-109.14a3.8189 3.8189 0 0 0-1.9384-0.5116z\"\n            fill=\"#999\"\n          />\n          <path\n            d=\"m34.37 218.28 189.04 109.14a3.8189 3.8189 150 0 0 5.7284-3.3073v-119.06a11.457 11.457 60 0 0-5.7284-9.9219l-189.04-109.14a3.8189 3.8189 150 0 0-5.7284 3.3073v119.06a11.457 11.457 60 0 0 5.7284 9.9219z\"\n            fill=\"#4d4d4d\"\n          />\n          <path\n            d=\"m34.37 94.709v2.4051a3.6455 3.6455 60 0 0 1.8228 3.1571l7.8113 4.5098a1.2152 1.2152 150 0 0 1.8228-1.0524v-2.4051a3.6455 3.6455 60 0 0-1.8228-3.1571l-7.8113-4.5098a1.2152 1.2152 150 0 0-1.8228 1.0524z\"\n            fill=\"#87aade\"\n          />\n          <path\n            d=\"m51.556 104.68v2.3115a3.7265 3.7265 60 0 0 1.8633 3.2273l168.13 97.067a1.2422 1.2422 150 0 0 1.8633-1.0758v-2.3116a3.7265 3.7265 60 0 0-1.8633-3.2273l-168.13-97.067a1.2422 1.2422 150 0 0-1.8633 1.0758z\"\n            fill=\"#87aade\"\n          />\n\n          <g id={styles.topChat} fill=\"#fff\">\n            <path\n              d=\"m129.81 174.77a3.8189 3.8189 0 0 0-1.7813 0.4563l6e-3 -0.0109-5.9862 3.4396 3.9713-0.0661v19.844a11.457 11.457 0 0 0 5.7283 9.9219l57.284 33.073 5.7288 9.9224v13.229l5.7283-3.3073v-13.229l5.7283 3.3073-1.9766 3.344 5.5904-3.2339a3.8189 3.8189 0 0 0 2.1146-3.4174v-19.844a11.457 11.457 0 0 0-5.7283-9.9219l-74.469-42.995a3.8189 3.8189 0 0 0-1.9384-0.51159z\"\n              fill=\"#003380\"\n            />\n            <path\n              d=\"m124.09 178.08a3.8189 3.8189 0 0 0-3.79 3.8189v19.844a11.457 11.457 0 0 0 5.7283 9.9219l57.284 33.073 11.457 19.844v-13.229l5.7283 3.3073a3.8189 3.8189 0 0 0 5.7283-3.3073v-19.844a11.457 11.457 0 0 0-5.7283-9.9219l-74.469-42.995a3.8189 3.8189 0 0 0-1.9384-0.51159z\"\n              fill=\"#0055d4\"\n            />\n            <path d=\"m131.75 198.44v1e-5a17.185 17.185 60 0 0 8.5926 14.883 5.7284 5.7284 150 0 0 8.5926-4.9609v-1e-5a17.185 17.185 60 0 0-8.5926-14.883 5.7284 5.7284 150 0 0-8.5926 4.9609z\" />\n            <path d=\"m154.67 211.8a17.186 17.186 59.559 0 0 8.7072 14.817 5.7299 5.7299 148.68 0 0 8.478-5.1594 17.186 17.186 59.559 0 0-8.7072-14.817 5.7299 5.7299 148.68 0 0-8.478 5.1594z\" />\n            <path d=\"m177.58 225.03a17.186 17.186 59.559 0 0 8.7072 14.817 5.7299 5.7299 148.68 0 0 8.478-5.1594 17.186 17.186 59.559 0 0-8.7072-14.817 5.7299 5.7299 148.68 0 0-8.478 5.1594z\" />\n          </g>\n\n          <g id={styles.bottomChat} fill=\"#fff\">\n            <path\n              d=\"m5.4621 151.81a3.8189 3.8189 0 0 0-1.6836 0.40566l0.0165-0.0269-6.01 3.5078 3.8871-0.0677 5.2e-4 -1e-3a3.8189 3.8189 0 0 0 0 1e-3v19.844a11.457 11.457 0 0 0 5.7278 9.9219l5.7283 3.3073v13.229l11.457-6.6146 57.284 33.073-1.6722 3.1249 5.4684-3.112a3.8189 3.8189 0 0 0 5.16e-4 0l0.2837-0.16174-0.02584 1e-3a3.8189 3.8189 0 0 0 1.6738-3.1595v-19.844a11.457 11.457 0 0 0-5.7283-9.9219l-74.469-42.995a3.8189 3.8189 0 0 0-1.9384-0.5116z\"\n              fill=\"#008000\"\n            />\n            <path\n              d=\"m-0.26622 155.11a3.8189 3.8189 0 0 0-3.79 3.8189v19.844a11.457 11.457 0 0 0 5.7283 9.9219l5.7283 3.3073v13.229l11.457-6.6146 57.284 33.073a3.8189 3.8189 0 0 0 5.7283-3.3073v-19.844a11.457 11.457 0 0 0-5.7283-9.9219l-74.469-42.995a3.8189 3.8189 0 0 0-1.9384-0.5116z\"\n              fill=\"#0f0\"\n            />\n            <path d=\"m7.4006 175.53a17.185 17.185 59.799 0 0 8.6448 14.853 5.7287 5.7287 149.4 0 0 8.5404-5.0514 17.185 17.185 59.799 0 0-8.6448-14.853 5.7287 5.7287 149.4 0 0-8.5404 5.0514z\" />\n            <path d=\"m30.314 188.69v0.0123a17.174 17.174 60 0 0 8.5872 14.874l0.0107 6e-3a5.7248 5.7248 150 0 0 8.5872-4.9578v-0.0123a17.174 17.174 60 0 0-8.5872-14.874l-0.0107-6e-3a5.7248 5.7248 150 0 0-8.5872 4.9578z\" />\n            <path d=\"m53.228 202.32a17.19 17.19 58.677 0 0 8.9363 14.684 5.7421 5.7421 146.04 0 0 8.2489-5.5562 17.19 17.19 58.677 0 0-8.9363-14.684 5.7421 5.7421 146.04 0 0-8.2489 5.5562z\" />\n          </g>\n        </g>\n      </svg>\n    </div>\n  );\n};\n","import React from \"react\";\n\nimport styles from \"./Home.module.css\";\n\nexport const Feature = ({ image, title, note }) => {\n  return (\n    <section className={styles.featureContainer}>\n      <img src={image} alt=\"message bubble\" />\n      <div>\n        <h2>{title}</h2>\n        <p>\n          <span>CONVO</span> {note}\n        </p>\n      </div>\n    </section>\n  );\n};\n","import React from \"react\";\n\nimport styles from \"./Home.module.css\";\nimport { Banner } from \"./Banner\";\nimport { Feature } from \"./Feature\";\n\n//images\nimport chatWithFriends from \"./img/chat-with-friends.svg\";\nimport bothMobilePc from \"./img/both-mobile-pc.svg\";\n\nexport const Home = ({ history }) => {\n  const feature = [\n    {\n      title: \"Chat With Friends In Real Time.\",\n      note:\n        \"Provides reliable and real time message feature so you can keep up with what your friends and family are doing anytime.\",\n      image: chatWithFriends,\n    },\n    {\n      title: \"PC and mobile friendly design.\",\n      note:\n        \"can be used to chat with anyone anywhere with any device, both PC or a mobile device.\",\n      image: bothMobilePc,\n    },\n  ];\n  return (\n    <div className={styles.container}>\n      <Banner history={history} />\n      {feature.map((data, i) => (\n        <Feature\n          image={data.image}\n          title={data.title}\n          note={data.note}\n          key={i}\n        />\n      ))}\n    </div>\n  );\n};\n","import React,{useState} from \"react\";\n\nimport styles from \"./CSS/ChatControler.module.css\";\n\n\nexport const ChatControler = ({ groups, setDisplayedGroup, setGroupToggle }) => {\n\n  return (\n    <div className={styles.chatControler}>\n      {\n        Object.keys(groups).map((key,i)=>(\n          <GroupBadge group={groups[key]} key={i} setDisplayedGroup={setDisplayedGroup}/>\n        ))\n      }\n      <div className={styles.groupBadge}>\n        <span className={styles.addBadge} onClick={()=> setGroupToggle((value)=>!value)}>\n          <p className={styles.badgeText}>+</p>\n        </span>\n      </div>\n    </div>\n  );\n};\n\nconst GroupBadge = ({ group, setDisplayedGroup }) => {\n  return (\n    <div className={styles.groupBadge}>\n      <span className={styles.badge} onClick = {()=>setDisplayedGroup(group)}>\n        <p className={styles.badgeText}>{group.group_name[0]}</p>\n      </span>\n    </div>\n  );\n};\n","import React from \"react\"\r\n\r\nimport styles from \"../CSS/ReplyedMessage.module.css\"\r\n\r\nexport const ReplyedMessage = ( { r_username, r_message_text } )=>{\r\n    return(\r\n        <div className={styles.container}>\r\n            <p className={styles.name}>{ r_username }</p>\r\n            <p className={styles.message}>{ r_message_text }</p>\r\n        </div>\r\n    )\r\n}","import React, { useContext } from \"react\"\r\n\r\nimport { ReplyedMessage } from \"./ReplyedMessage\"\r\n\r\nimport styles from \"../CSS/StandardMessage.module.css\"\r\n\r\nimport { LoginContext } from \"../../../Context/loginContext\"\r\n\r\nexport const StandardMessage = ( { message, prev_message_from_same_user, setMessageToReply } )=>{\r\n    const { LoginDetail : { id } } = useContext(LoginContext)\r\n\r\n    const dateFormater = (timestamp)=>{\r\n        const date = []\r\n        \r\n        date.push(timestamp.getDate())\r\n        date.push(timestamp.getMonth()+1)\r\n        date.push(timestamp.getFullYear())\r\n\r\n        const time = []\r\n        time.push(timestamp.getHours()%12)\r\n        time.push(\":\")\r\n        time.push(timestamp.getMinutes())\r\n        time.push(\" \")\r\n        time.push(timestamp.getHours()>=12?\"PM\":\"AM\")\r\n        return date.join(\"/\")+\" \"+time.join(\"\")\r\n    }\r\n\r\n    const handleReplyIntent = (e)=>{\r\n        setMessageToReply(message)\r\n    }\r\n\r\n    return (\r\n        <div className={`${styles.container} ${message.r_user_id===id?styles.myMessage:\"\"}`}>\r\n            <div className={`${styles.messageBubble} ${prev_message_from_same_user?styles.prevMessagFromSameUser:\"\"}`}>\r\n                { \r\n                    prev_message_from_same_user || id===message.r_user_id ? null : (<p className={styles.userName}>{message.r_user_name}</p>) \r\n                }\r\n                {\r\n                    message.r_message_type!==\"RPLY\" ? null : <ReplyedMessage \r\n                                                                    r_username={id===message.r_user_id ? \"You\" : message.r_replyed_message_username} \r\n                                                                    r_message_text={message.r_replyed_message_text}/>\r\n                }\r\n                <p className={styles.message}>{message.r_message_text}</p>\r\n                <div className={styles.messageFooter}>\r\n                    {\r\n                        id===message.r_user_id?\r\n                        (\r\n                            <>\r\n                                <button type=\"button\" onClick={handleReplyIntent}></button>\r\n                                <p>{ dateFormater(new Date(message.r_message_created_on)) }</p>\r\n                            </>\r\n                        ):(\r\n                            <>\r\n                                <p>{ dateFormater(new Date(message.r_message_created_on)) }</p>\r\n                                <button type=\"button\" onClick={handleReplyIntent}></button>\r\n                            </>\r\n                        )\r\n\r\n                    }\r\n                </div>\r\n            </div>\r\n        </div>\r\n    )\r\n}","import React from \"react\";\r\n\r\nimport styles from \"../CSS/SystemMessage.module.css\"\r\n\r\nexport const SystemMessage = ( { message } )=>{\r\n    return(\r\n        <div className={styles.container}>\r\n            <p className={styles.message}>{message.r_message_text}</p>\r\n        </div>\r\n    )\r\n}","import React from \"react\"\n\nimport { StandardMessage } from \"./Message_components/StandardMessage\"\nimport { SystemMessage } from \"./Message_components/SystemMessage\"\n\nconst MessageArea = ({ messageList, setMessageToReply }) => {\n  \n  var prev = \"\";\n\n  return (\n    <>\n      {\n      messageList.map( message =>{\n        var prevsame = false;\n        if(prev===message.r_user_name) prevsame = true;\n        else prev = message.r_user_name===null ? '*' : message.r_user_name;\n        \n        if(message.r_message_type===\"SYS\"){\n          return <SystemMessage key={ message.r_message_id } message={ message } />\n        }else{\n          return <StandardMessage \n                    key={ message.r_message_id } \n                    message={message}\n                    setMessageToReply={setMessageToReply}  \n                    prev_message_from_same_user={ prevsame }/>\n        }\n        \n      })}\n    </>\n  );\n};\n\nexport default React.memo(MessageArea);\n","import React, { useContext, useState } from \"react\";\n\nimport styles from \"./CSS/MessageTypeField.module.css\"\n\nimport { LoginContext } from \"../../Context/loginContext\";\n\nexport const MessageTypeField = ({ socket, group, messageToReply, setMessageToReply }) => {\n  const [message, setMessage] = useState(\"\");\n\n  const { LoginDetail: { id } } = useContext(LoginContext);\n\n  const handleMessageSend = (e) => {\n    e.preventDefault();\n    if (message.length === 0) return;\n\n    //expected data format in bakend -> { userID,group_id,message_text,replyed_to_message_id }\n    socket.emit(\"cnvo_new_user_message\", \n                  { \n                    userID : id,\n                    group_id : group.group_id,\n                    message_text : message,\n                    replyed_to_message_id : messageToReply.r_message_id\n                  });\n\n    setMessage(\"\")\n    setMessageToReply({})\n  };\n\n  const handleInputChange = (e) => {\n    if(e.target.value.length > 1000)\n      return\n\n    setMessage(e.target.value)\n  }\n\n  const removeMessageToReply = (e) => {\n    setMessageToReply({})\n  }\n\n\n  return (\n    <div className={styles.container}>\n      { Object.keys(messageToReply).length>0 && \n            (\n              <div className={styles.toReplyMessageContainer}>\n                <div className={styles.toReplyMessageBubble}>\n                  <p>{ messageToReply.r_user_id===id? \"You\" : messageToReply.r_user_name }</p>\n                  <p>{ messageToReply.r_message_text }</p>\n                </div>\n                <button type=\"button\" onClick={ removeMessageToReply }></button>\n              </div>\n            )\n        }\n      <form className={styles.form} onSubmit={ handleMessageSend } >\n        <div className={styles.textFieldWrapper}>\n          <input\n          className={styles.textArea}\n            type=\"text\"\n            value={message}\n            onChange={handleInputChange}\n            placeholder=\"Type a message here...\"\n          />\n          <p className={styles.textLength}>{message.length}/1000</p>\n        </div>\n        <input className={styles.submit} type=\"submit\" value=\"send\" />\n      </form>\n    </div>\n  );\n};\n","import React from \"react\";\r\n\r\nimport styles from \"./CSS/Loading.module.css\"\r\n\r\nexport const Loading = ( { background_color } ) => {\r\n    if(!background_color){\r\n        background_color = 'black'\r\n    }\r\n\r\n    return (\r\n        <div style={{\r\n                backgroundColor : background_color\r\n            }} className={styles.container}>\r\n\r\n            <div className={styles.blinker}>\r\n                <span style={{ \"--i\": \"1\" }} ></span>\r\n                <span style={{ \"--i\": \"2\" }}></span>\r\n                <span style={{ \"--i\": \"3\"}}></span>\r\n            </div>\r\n\r\n        </div>\r\n    )\r\n}","import React, { useEffect, useState, useContext, useRef } from \"react\";\nimport styles from \"./Chat.module.css\";\nimport MessageArea from \"./MessageArea\";\nimport { MessageTypeField } from \"./MessageTypeField\";\n\nimport { LoginContext } from \"../../Context/loginContext\";\nimport { createToken } from \"./helper\";\nimport { Loading } from \"./Loading\";\n\n\n\nexport const ChatArea = ({ displayedGroup,socket }) => {\n  \n  const { LoginDetail: { id } } = useContext(LoginContext);\n\n  //holds the messages for the current displayed group\n  const [messageList, setMessageList] = useState([])\n\n  //flag to indicate if new message is sent be me\n  const [myNewMessage, setMyNewMessage] = useState(false)\n\n  //flag indicating that previous chat are trying to be fetched\n  const [fetchingPreviousChat, setFetchingPreviousChat] = useState(false)\n\n  const [initialChatLoading,setInitialChatLoading] = useState(true)\n\n  /* toggle to disply the button that fetches the previous messages. \n    if no previous chat are avilable, the button will be disabled */  \n  const [GPCBToggle, setGPCBToggle] = useState(false)\n\n\n  //holds the message that is selected for reply\n  const [messageToReply, setMessageToReply] = useState({})\n\n  //reference the div that houses the messages.\n  const chatArea = useRef()\n\n  //reference the height that was scolled before requesting for previous message. \n  const previousSize = useRef()\n\n  //reference unique string that is sent and received in all socket transaction.\n  const gtoken = useRef();\n\n\n  //scroll to the end when user sends a new message\n  useEffect(()=>{\n    if(myNewMessage===true){\n      chatArea.current.scrollTop = chatArea.current.scrollHeight\n      setMyNewMessage(false)\n    }\n  },[myNewMessage])\n\n  //stay at the same scroll postion when user retrives previous chats for a group\n  useEffect(()=>{\n    if(fetchingPreviousChat===false){\n      chatArea.current.scrollTop = chatArea.current.scrollHeight - previousSize.current;\n    }\n  },[fetchingPreviousChat])\n\n  \n\n  //Initilizing the socket and other event handlers. also set the clean up.\n  useEffect(() => {\n\n    setMessageList([])\n    setMessageToReply({})\n    setFetchingPreviousChat(false)\n    setGPCBToggle(false)\n    setInitialChatLoading(true)\n    \n    //token to determine the response from server is for the right request\n    gtoken.current = createToken()\n\n    //get the latest message for the displayed group\n    socket.emit(\"cnvo_get_latest_messages\", \n                            {re_gtoken : gtoken.current, group_id : displayedGroup.group_id, user_id : id })\n\n    //handle the latest message\n    socket.on(\"cnvo_latest_messages_of_group\", ( rep ) => {\n      const {re_gtoken , data} = rep;\n      \n      if(re_gtoken!==gtoken.current) return;\n\n      setGPCBToggle(true);\n\n      setMyNewMessage(true);\n\n      setInitialChatLoading(false)\n\n      setMessageList((messages) => [...data, ...messages]);\n    })\n\n    //handle getting the previous message for a group\n    socket.on(\"cnvo_previous_message_chunks_of_group\", ( rep ) => {\n      const {re_gtoken , data} = rep;\n      \n      if(data.length===0) setGPCBToggle(false);\n      \n      if(re_gtoken!==gtoken.current) return;\n\n      setMessageList((messages) => [...data, ...messages]);\n      \n      setFetchingPreviousChat(false);\n    });\n\n    //handle new messages created by the users\n    socket.on(\"cnvo_new_created_message\", (new_message) => {\n\n      if(new_message.length===0){ \n        return\n      }\n\n      if(new_message[0].r_user_id===id){\n        setMyNewMessage(true)\n      }\n\n      setMessageList((messages) =>  [...messages, new_message[0]] )\n    });\n\n    //clean up of handlers\n    return () => {\n      socket.off(\"cnvo_get_latest_messages\");\n      socket.off(\"cnvo_previous_message_chunks_of_group\");\n      socket.off(\"cnvo_latest_messages_of_group\");\n      socket.off(\"cnvo_new_created_message\")\n      \n      //register the last seen for the user.\n      socket.emit(\"cnvo_user_closed_group\", { user_id : id, group_id : displayedGroup.group_id } );\n    };\n  }, [displayedGroup, id]);\n\n  //Sliding for mobile*******************\n  const [slideState, setSlideState] = useState(0);\n  var xDown = null;\n  var yDown = null;\n  function getTouches(evt) {\n    return evt.touches || evt.originalEvent.touches;\n  }\n  const handleTouchStart = (evt) => {\n    const firstTouch = getTouches(evt)[0];\n    xDown = firstTouch.clientX;\n    yDown = firstTouch.clientY;\n  };\n  const handleTouchMove = (evt) => {\n    if (!xDown || !yDown) {\n      return;\n    }\n\n    var xUp = evt.touches[0].clientX;\n    var yUp = evt.touches[0].clientY;\n\n    var xDiff = xDown - xUp;\n    var yDiff = yDown - yUp;\n\n    if (Math.abs(xDiff) > Math.abs(yDiff)) {\n      if (xDiff > 0) {\n        if(slideState===0) setSlideState(1);\n        else if(slideState===-1) setSlideState(0);\n      } else {\n        if(slideState===0) setSlideState(-1);\n        else if(slideState===1) setSlideState(0);\n      }\n    }\n\n    xDown = null;\n    yDown = null;\n  };\n  //************************************* */\n\n  const getPreviousChat = (e) => {\n    e.preventDefault();\n\n    if(messageList.length===0) return;\n    \n    setFetchingPreviousChat(true);\n    previousSize.current = chatArea.current.scrollHeight;\n\n    socket.emit(\"cnvo_get_previous_message_chunks\", {\n      re_gtoken : gtoken.current,\n      user_id : id,\n      group_id : displayedGroup.group_id,\n      oldest_message_id: (messageList[0].r_message_id === -1 ? messageList[1].r_message_id : messageList[0].r_message_id),\n    });\n  };\n\n  return (\n    <>\n      {\n        initialChatLoading ?\n          <div \n            className={styles.innerChatContainer}\n            ref={chatArea}>\n            <Loading background_color={'rgb(75, 75, 75)'}/>\n          </div>\n        :\n        <div\n          className={`${styles.innerChatContainer} \n          ${slideState===-1 ? styles.rightSlide:\"\"}\n          ${slideState===1 ? styles.leftSlide :\"\"}\n          `}\n          onTouchStart={handleTouchStart}\n          onTouchMove={handleTouchMove}>\n\n          <div className={styles.chatHeading}>\n            <h2>{`#${displayedGroup.group_name}`}</h2>\n          </div>\n          <div className={styles.chatArea}>\n            <div ref={chatArea} className={styles.chats}>\n\n              { GPCBToggle && (<GetPreviousChatButton\n                getPreviousChat={getPreviousChat}\n                fetchingPreviousChat={fetchingPreviousChat}\n              />) }\n\n              <MessageArea messageList={ messageList } setMessageToReply={ setMessageToReply }/>\n\n            </div>\n            <MessageTypeField\n              socket={socket}\n              group={displayedGroup}\n              messageToReply = { messageToReply }\n              setMessageToReply={ setMessageToReply }\n            />\n          </div>\n\n        </div>\n      }\n    </>\n  );\n};\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\nconst GetPreviousChatButton = ({ getPreviousChat, fetchingPreviousChat }) => {\n  return (\n    <div\n      className={`${\n        fetchingPreviousChat\n          ? styles.gettingPrevious\n          : styles.getPreviousChatButton\n      }`}\n      onClick={getPreviousChat}\n    >\n      {!fetchingPreviousChat && (\n        <div className={styles.previousBtn}>\n          <span></span>\n        </div>\n      )}\n      {fetchingPreviousChat && (\n        <div className={styles.previousBtn}>\n          <span style={{ \"--i\": \"1\" }}></span>\n          <span style={{ \"--i\": \"2\" }}></span>\n          <span style={{ \"--i\": \"3\" }}></span>\n        </div>\n      )}\n    </div>\n  );\n};\n","import React,{ useContext, useEffect, useRef, useState } from 'react'\nimport styles from \"./CSS/Members.module.css\";\nimport { createToken } from \"./helper\";\nimport { Loading } from './Loading';\n\nimport { LoginContext } from \"../../Context/loginContext\"\n\nexport const Members = ( { socket , group } ) => {\n\n    const { LoginDetail : { id } } = useContext(LoginContext)\n\n    //holds the list of members\n    const [members,setMembers] = useState({});\n\n    //flag to indeicate waiting for responce from server\n    const [fetchingMembers,setFetchingMembers] = useState(true)\n\n    const mtoken = useRef();\n\n    \n\n    useEffect(() => {\n        //setMembers({});\n        setFetchingMembers(true)\n\n        mtoken.current = createToken();\n\n        socket.emit(\"cnvo_get_members_for_group\",{ r_token : mtoken.current, group_id : group.group_id } );\n\n        socket.on(\"cnvo_all_members_of_group\",(data)=>{\n            const { r_token, r_members } = data;\n\n            if(r_token!==mtoken.current) \n                return\n\n            let create_members = {};\n            r_members.forEach( member =>{\n                create_members[member.r_user_id] = member;\n            })\n            \n            setMembers(create_members);\n            setFetchingMembers(false)\n        })\n\n        socket.on(\"cnvo_user_online\",(data)=>{\n\n            const { r_group, r_data } = data\n\n            if(r_group!==group.group_id)\n                return;\n            \n            setMembers((prev)=> {\n\n                return {...prev, [r_data.r_user_id] : r_data};\n            })\n        })\n\n        socket.on(\"cnvo_user_offline\",(data)=>{\n            const { r_group, r_user_id } = data\n\n            if(r_group!==group.group_id)\n                return;\n\n            setMembers((prev)=> {\n                \n                const user = prev[r_user_id]\n        \n                user.r_status = false\n\n                return { ...prev, [ r_user_id ] : user };\n            })\n        })\n\n        socket.on(\"cnvo_user_left\",(data)=>{\n            const { r_group, r_user_id } = data\n\n            if(r_group!==group.group_id)\n                return;\n\n            setMembers((prev)=> {\n                const temp = {...prev}\n                delete temp[r_user_id]\n                return {...temp}\n            })\n        })\n\n        return () =>{\n            socket.off(\"cnvo_all_members_of_group\");\n            socket.off(\"cnvo_user_online\");\n            socket.off(\"cnvo_user_offline\");\n            socket.off(\"cnvo_user_left\")\n        }\n    }, [ group ] )\n\n\n    const copy=(e)=>{\n        const temp = document.createElement(\"input\");\n        temp.style.position='absolute';\n        temp.value = group.group_id;\n        document.body.appendChild(temp);\n        temp.select();\n        document.execCommand(\"copy\");\n        document.body.removeChild(temp);\n    }\n\n    const leaveGroup = (e)=>{\n        socket.emit(\"cnvo_user_leave_group\", { userID : id , groupID : group.group_id })\n    }\n\n\n    return (\n        <>\n        {\n            fetchingMembers ?\n            <div className={styles.container}>\n                <Loading/>\n            </div>\n            :\n            (<div className={styles.container}>\n\n                <header>\n                    <h2>Members</h2>\n                </header>\n\n                <div className={styles.members}>\n                    { Object.keys(members).some((key) => members[key].r_status ) && <p className={styles.status}>Online</p>}\n                    <div className={styles.onlineContainer}>\n                    {\n                        Object.keys(members).map((key) =>{\n                            const member = members[key]\n                            if(members[key].r_status) \n                                return (\n                                    <div key={key} className={styles.member}>\n                                        <span className={styles.onlineTag}></span>\n                                        <p>{member.r_user_name}</p>\n                                    </div>\n                                )\n                        })\n                    }\n                    </div>\n                    \n                    { Object.keys(members).some((key) => !members[key].r_status ) && <p className={styles.status}>Offline</p>}\n                    <div className={styles.offlineContainer}>\n                    {\n                        Object.keys(members).map((key) =>{\n                            const member = members[key]\n                            if(!members[key].r_status) \n                                return (\n                                    <div key={key} className={styles.member}>\n                                        <span className={styles.offlineTag}></span>\n                                        <p>{member.r_user_name}</p>\n                                    </div>\n                            )\n                        })\n                    }\n                    </div>\n                </div>\n\n                <footer>\n                    <div className={styles.copy}>\n                        <p>Copy Group Code</p> \n                        <button type='button' title=\"copy group code\" onClick={()=>copy()}>COPY</button>\n                    </div>\n                    <div className={styles.leave} onClick={leaveGroup}>\n                        <p>Leave Group</p>\n                        <span></span>\n                    </div>\n                </footer>\n            </div>\n            )\n            }\n        </>\n    )\n}\n","import React,{useState,useContext,useEffect} from 'react'\n\nimport styles from \"./CSS/GroupManagement.module.css\";\n\nimport { LoginContext } from \"../../Context/loginContext\";\n\n\nconst GroupManagement = ( { setDisplayedGroup, setGroups, socket, setGroupToggle } ) => {\n\n    const { LoginDetail : { id } } = useContext(LoginContext);\n\n    const [createG, setCreateG] = useState(\"\")\n    const [groupAbout, setGroupAbout] = useState(\"\")\n    const [joinG, setJoinG] = useState(\"\")\n\n    useEffect(()=>{\n        socket.on(\"cnvo_join_group_success\",data => {\n            const { group_data } = data \n            setGroupToggle(false);\n            setGroups(groups => ( { ...groups, [ group_data.group_id ] : group_data } ) );\n            setDisplayedGroup(group_data);\n        });\n\n        socket.on(\"cnvo_join_group_error\",(data) =>{ \n            setGroupToggle(false);\n            console.log(data);\n        });\n\n        socket.on(\"cnvo_create_group_success\", data => {\n            const { group_data } = data \n            setGroupToggle(false);\n            setGroups(groups => ( { [ group_data.group_id ] : group_data, ...groups,  } ) );\n            setDisplayedGroup(group_data);\n        });\n\n        socket.on(\"cnvo_create_group_error\",(data)=>{\n            setGroupToggle(false);\n            console.log(data);\n        });\n\n        return ()=>{\n            socket.off(\"cnvo_join_group_success\")\n            socket.off(\"cnvo_join_group_error\")\n            socket.off(\"cnvo_create_group_success\")\n            socket.off(\"cnvo_create_group_error\")\n        }\n    })\n\n    \n\n    //Request to create a new group.\n    const createGroup = (e)=>{\n        e.preventDefault();\n        if(createG.length===0) return;\n\n        socket.emit(\"cnvo_create_group_for_user\",{ userID : id, group_name : createG, group_about : groupAbout });\n    }\n\n    const joinGroup = (e)=>{\n        e.preventDefault();\n        if(joinG.length===0) return;\n\n        socket.emit(\"cnvo_join_group_for_user\",{ userID : id, group_id :joinG });\n    }\n    \n    return (\n        <div className={styles.container} onClick={() => setGroupToggle(value => !value)}>\n            <div className={styles.formContainer} onClick={(e)=>e.stopPropagation()}>\n                <form onSubmit={createGroup}>\n                    <label>Create a new Group:</label>\n                    <div className={styles.inputContainer}>\n                        <input type=\"text\" onChange={(e)=> setCreateG(e.target.value)} placeholder=\"Group Name\"/>\n                        <textarea placeholder=\"What is this group about??\"\n                            value={groupAbout}\n                            onChange={(e)=> setGroupAbout(e.target.value)}/>\n                        <input type=\"submit\" value=\"Create\"/>\n                    </div>     \n                </form>\n                <form onSubmit={joinGroup}>\n                    <label>Join a group:</label>\n                    <div className={styles.inputContainer}>\n                        <input type=\"text\" onChange={(e)=> setJoinG(e.target.value)} placeholder=\"Group Code\"/>\n                        <input type=\"submit\" value=\"Join\"/>\n                    </div>\n                </form>\n            </div>\n        </div>\n    )\n}\n\nexport default GroupManagement\n","import React, { useState, useContext } from \"react\";\nimport axios from \"axios\";\n\nimport styles from \"./LogReg.module.css\";\nimport { LoginContext } from \"../../Context/loginContext\";\n\nimport {host} from \"../../App\"\n\nconst initialState = { email: \"\", password: \"\" };\n\nexport const Login = ({ toggle }) => {\n  //user credientials for login.\n  const [credential, setCredential] = useState(initialState);\n\n  //flags\n  const [error, setError] = useState({ error: false, message: \"\" });\n  const [fetching, setFetching] = useState(false);\n\n  //this is the function for setting context value on login.\n  const { loggin } = useContext(LoginContext);\n\n  const handleSubmit = async (e) => {\n    e.preventDefault();\n    if (credential.email.length === 0 || credential.password.length === 0) {\n      setError({ error: true, message: \"Please fill in your credientials.\" });\n      return;\n    }\n\n    setFetching(true);\n    const {data: { error, data, message }} = await axios({\n      method: \"POST\",\n      url: `${host}/users/login`,\n      data: {\n        email: credential.email,\n        password: credential.password,\n      },\n    });\n    if (!error) {\n      loggin(data);\n    } else {\n      setError({\n        error: true,\n        message: message,\n      });\n      setFetching(false);\n    }\n  };\n\n  const onchange = (e) => {\n    if (error.error) setError({ error: false, message: \"\" });\n    const { name, value } = e.target;\n    setCredential({ ...credential, [name]: value });\n  };\n\n  return (\n    <>\n      <div className={styles.innerContainer}>\n        <form onSubmit={handleSubmit} className={styles.loginForm}>\n          <div className={fetching ? styles.loader : styles.displayOff}></div>\n          <h1>Shadow Clan</h1>\n          <input\n            className={styles.textField}\n            type=\"email\"\n            value={credential.email}\n            onChange={onchange}\n            name=\"email\"\n            placeholder=\"Email\"\n          ></input>\n          <input\n            className={styles.textField}\n            type=\"password\"\n            value={credential.password}\n            onChange={onchange}\n            name=\"password\"\n            placeholder=\"Password\"\n          ></input>\n\n          <input\n            className={styles.submitBtn}\n            type=\"submit\"\n            value=\"Login\"\n            disabled={fetching ? true : false}\n          ></input>\n          <p className={error.error ? styles.danger : styles.displayOff}>\n            {error.message}\n          </p>\n          <p>Dont have an account?? well... just register!</p>\n          <button\n            value=\"Register\"\n            onClick={(e) => {\n              e.preventDefault();\n              toggle();\n            }}\n          >\n            Register\n          </button>\n        </form>\n      </div>\n    </>\n  );\n};\n","import React, { useState, useContext } from \"react\";\nimport axios from \"axios\";\nimport styles from \"./LogReg.module.css\";\nimport { LoginContext } from \"../../Context/loginContext\";\n\nimport {host } from \"../../App\"\n\nexport const Register = ({ toggle }) => {\n  const { loggin } = useContext(LoginContext);\n  const [credential, setCredential] = useState({\n    username: \"\",\n    email: \"\",\n    password: \"\",\n    repassword: \"\",\n  });\n\n  //flags\n  const [error, setError] = useState({ error: false, message: \"\" });\n  const [fetching, setFetching] = useState(false);\n\n  const formValidate = () => {\n    for (let key in credential) {\n      if (credential[key].length === 0) {\n        return [true, \"Please fill in your credientials.\"];\n      }\n    }\n\n    if (credential.password.length < 10)\n      return [true, \"password must be at least 10 charecters.\"];\n    else if (/[A-Z]/.test(credential.password) === false)\n      return [true, \"password must contain upper case letter.\"];\n    else if (credential.password !== credential.repassword)\n      return [true, \"passwords must match.\"];\n\n    return [false, \"\"];\n  };\n\n  const handleSubmit = async (e) => {\n    e.preventDefault();\n\n    const [validateError, validateMessage] = formValidate();\n\n    if (validateError) {\n      setError({ error: true, message: validateMessage });\n      return;\n    }\n    setFetching(true);\n    const { data: { data, error, message } } = await axios({\n      url: `${host}/users/register`,\n      method: \"POST\",\n      data: {\n        username: credential.username,\n        email: credential.email,\n        password: credential.password\n      },\n    });\n\n    if (!error) {\n      loggin(data);\n    } else {\n      setError({\n        error: true,\n        message: message,\n      });\n      setFetching(false);\n    }\n  };\n\n  const handleOnchange = (e) => {\n    if (error.error) setError({ error: false, message: \"\" });\n    const { name, value } = e.target;\n    setCredential({ ...credential, [name]: value });\n  };\n\n  return (\n    <div className={styles.innerContainer}>\n      <form onSubmit={handleSubmit}>\n        <div className={fetching ? styles.loader : styles.displayOff}></div>\n        <h1>Shadow Clan</h1>\n        <input\n          type=\"text\"\n          placeholder=\"username\"\n          name=\"username\"\n          value={credential.username}\n          onChange={handleOnchange}\n        ></input>\n        <input\n          type=\"email\"\n          placeholder=\"email\"\n          name=\"email\"\n          value={credential.email}\n          onChange={handleOnchange}\n        ></input>\n        <input\n          type=\"password\"\n          placeholder=\"password\"\n          name=\"password\"\n          value={credential.password}\n          onChange={handleOnchange}\n        ></input>\n        <input\n          type=\"password\"\n          placeholder=\"re-enter password\"\n          name=\"repassword\"\n          value={credential.repassword}\n          onChange={handleOnchange}\n        ></input>\n        <input\n          type=\"submit\"\n          value=\"Register\"\n          disabled={fetching ? true : false}\n        ></input>\n        <p className={error.error ? styles.danger : styles.displayOff}>\n          {error.message}\n        </p>\n        <p>have an account?? well... just login!</p>\n        <button\n          value=\"Login\"\n          onClick={(e) => {\n            e.preventDefault();\n            toggle();\n          }}\n        >\n          Login\n        </button>\n      </form>\n    </div>\n  );\n};\n","import React, { useContext } from \"react\";\nimport styles from \"./LogReg.module.css\";\nimport { LoginContext } from \"../../Context/loginContext\";\n\nexport const LoggedIn = () => {\n  const {\n    LoginDetail: { username },\n  } = useContext(LoginContext);\n  return (\n    <div className={styles.innerContainer}>\n      <h2>You are logged in as {username}</h2>\n    </div>\n  );\n};\n","import React, { useContext, useState, useEffect } from \"react\";\n\nimport { Login } from \"./Login\";\nimport { Register } from \"./Register\";\nimport { LoggedIn } from \"./LoggedIn\";\n\nimport styles from \"./LogReg.module.css\";\n\nimport { LoginContext } from \"../../Context/loginContext\";\n\nexport const LogReg = ({ isLogin }) => {\n  const { LoginDetail } = useContext(LoginContext);\n\n  //to toggle between login and register component.\n  const [login, setLogin] = useState(isLogin);\n\n  useEffect(() => {\n    setLogin(isLogin);\n  }, [isLogin]);\n\n  const toggle = () => {\n    setLogin(!login);\n  };\n\n  return (\n    <div className={styles.container}>\n      <div className={styles.arc}></div>\n      {LoginDetail.loggedIn ? (\n        <LoggedIn />\n      ) : login ? (\n        <Login toggle={toggle} />\n      ) : (\n        <Register toggle={toggle} />\n      )}\n    </div>\n  );\n};\n","import React from 'react'\n\nimport styles from \"./AuthCheck.module.css\";\n\nconst AuthCheck = () => {\n    const name=[\"C\",\"O\",\"N\",\"V\",\"O\"];\n    return (\n        <div className={styles.container}>\n            <div>\n                {name.map((letter,i)=><h1 key={i} style={{\"--i\":i}}>{letter}</h1>)}\n            </div>\n            <p>Authentication In Progress . . . . \n            </p>\n        </div>\n    )\n}\n\nexport default AuthCheck\n","import React, { useContext, useEffect, useState } from \"react\";\nimport { BrowserRouter as Router,Routes, Route } from \"react-router-dom\";\nimport axios from \"axios\";\n\nimport { Nav } from \"./Components/Nav/Nav\";\nimport { Home } from \"./Components/Home/Home\";\nimport { Chat } from \"./Components/Chat/Chat\";\nimport { LogReg } from \"./Components/LogReg/LogReg\";\nimport { LoginContext } from \"./Context/loginContext\";\nimport AuthCheck from './Components/Loadings/AuthCheck';\n//\"https://backend-convo.herokuapp.com\"\nexport const host = \"http://localhost:4000\"\n\nexport const App = () => {\n  const [verifyToken, setVerifyToken] = useState(true);\n\n  const { loggin } = useContext(LoginContext);\n\n  useEffect(() => {\n    alwaysLogin();\n  }, []);\n\n  const alwaysLogin = async () => {\n    if (localStorage.getItem(\"LogDetail\") !== null) {\n      const token = JSON.parse(localStorage.getItem(\"LogDetail\"));\n      const {\n        data: { data, error, message, deleteToken },\n      } = await axios({\n        method: \"POST\",\n        url: `${host}/users/login-with-jwt`,\n        data: { token },\n      });\n      if (error) {\n        console.log(message);\n        setVerifyToken(false);\n        if (deleteToken) localStorage.removeItem(\"LogDetail\");\n      } else {\n        loggin(data);\n        setVerifyToken(false);\n      }\n    } else {\n      setVerifyToken(false);\n    }\n  };\n  return (\n    <>\n      {verifyToken ? (\n        <AuthCheck/>\n      ) : (\n        <Router>\n          <Nav />\n          <Routes>\n            <Route path=\"/\" exact element={<Home/>}></Route>\n            <Route path=\"/chat\" exact element={<Chat/>}></Route>\n            <Route\n              path=\"/login\"\n              exact\n              element={<LogReg isLogin={true}/>}\n            ></Route>\n            <Route\n              path=\"/register\"\n              exact\n              element={<LogReg isLogin={false} />}\n            ></Route>\n          </Routes>\n        </Router>\n      )}\n    </>\n  );\n};\n","import React from \"react\";\nimport ReactDOM from \"react-dom/client\";\n\nimport { App } from \"./App\";\n\nimport { LoginProvider } from \"./Context/loginContext\";\n\nimport \"./App.css\";\n\nconst root = ReactDOM.createRoot(document.getElementById(\"root\"))\n\nroot.render(\n  <LoginProvider>\n    <App />\n  </LoginProvider>\n);\n\n//\"react-router-dom\": \"^5.2.0\",\n"],"sourceRoot":""}